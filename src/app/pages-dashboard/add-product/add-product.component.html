<h2>Add product</h2>
<form [formGroup]="productForm" (ngSubmit)="addProduct()">
  <div class="box-form-box">
    <div class="form-box">
      <div class="p-field">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          pInputText
          formControlName="name"
          required
          placeholder="Enter product name"
        />
      </div>

      <div class="p-field">
        <label for="price">Price</label>
        <input
          type="number"
          id="price"
          pInputNumber
          formControlName="price"
          required
          placeholder="Enter product price"
        />
      </div>
      <div class="p-field">
        <label for="quantity">Quantity</label>
        <input
          type="number"
          id="quantity"
          pInputNumber
          formControlName="quantity"
          required
          placeholder="Enter product quantity"
        />
      </div>
    </div>

    <div class="form-box">
      <div class="p-field">
        <label for="shortDescription">Short Description</label>
        <input
          type="text"
          id="shortDescription"
          pInputText
          formControlName="shortDescription"
          required
          placeholder="Enter short description"
        />
      </div>

      <div class="p-field">
        <label for="description">Description</label>
        <textarea
          id="description"
          pInputTextarea
          formControlName="description"
          required
          placeholder="Enter description"
        ></textarea>
      </div>

      <div class="p-field">
        <label for="category">Category</label>
        <input
          type="text"
          id="category"
          pInputText
          formControlName="category"
          required
          placeholder="Enter category"
        />
      </div>
    </div>

    <div class="form-box">
      <div class="p-field">
        <label for="specifications">Specifications</label>
        <div formArrayName="specifications" class="gap">
          <ng-container
            *ngFor="let spec of specificationControls.controls; let i = index"
          >
            <div class="spec-flex" [formGroupName]="i">
              <input
                type="text"
                id="name"
                pInputText
                formControlName="name"
                required
                placeholder="Enter specification name"
              />
              <input
                type="text"
                id="value"
                pInputText
                formControlName="value"
                required
                placeholder="Enter specification value"
              />
              <button
                class="delete-button"
                pButton
                type="button"
                icon="pi pi-times"
                (click)="removeSpecification(i)"
              ></button>
            </div>
          </ng-container>
          <button pButton type="button" (click)="addSpecification()">
            Add Specification
          </button>
        </div>
      </div>
    </div>
    <div class="form-box">
      <div class="p-field">
        <label for="tags">Tags</label>
        <div formArrayName="tags" class="gap">
          <ng-container *ngFor="let tag of tagControls.controls; let i = index">
            <div [formGroupName]="i" class="delete-container">
              <input
                type="text"
                id="tag"
                pInputText
                formControlName="tag"
                placeholder="Enter tag"
              />
              <button
                class="delete-button"
                pButton
                type="button"
                icon="pi pi-times"
                (click)="removeTag(i)"
              ></button>
            </div>
          </ng-container>
          <button pButton type="button" (click)="addTag()">Add Tag</button>
        </div>
      </div>
    </div>
    <div class="form-box">
      <div class="p-field">
        <label for="images">Images</label>
        <div class="gap file-upload-container">
          <div class="delete-container">
            <p-fileUpload
              name="images"
              url="https://www.primefaces.org/cdn/api/upload.php"
              (onSelect)="onImageSelected($event)"
              accept="image/*"
              aria-multiline="true"
              [multiple]="true"
            ></p-fileUpload>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button
    pButton
    type="submit"
    label="Add Product"
    [disabled]="!productForm.valid"
    class="add-button"
  ></button>
</form>
